<div class="wnh-home-header">
    <div class="wnh-home-header-title">World Needs Heroes</div>
    <div class="wnh-home-header-subtitle">Vote for the best play of the game</div>
</div>
<md-toolbar ng-controller="ToolbarCtrl" class="md-primary" ng-cloak>
    <div class="md-toolbar-tools">
        <md-menu>
            <md-button aria-label="Open timeframe filter menu" ng-click="openMenu($mdOpenMenu, $event)">
                <md-icon md-menu-origin>access_time</md-icon>
                {{currentFiltersNames.timeframe}}
                <md-tooltip md-direction="bottom">
                    Filter by time
                </md-tooltip>
            </md-button>
            <md-menu-content width="3">
                <md-menu-item ng-repeat="timeframe in timeframes">
                    <md-button ng-click="timeframeFilter(timeframe.filter)"
                               ng-class="{'md-warn': timeframe.filter===currentFilters.timeframe}">
                        <md-icon ng-if="timeframe.filter===currentFilters.timeframe">check</md-icon>
                        {{timeframe.title}}
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>

        <md-menu>
            <md-button aria-label="Open hero filter menu" ng-click="openMenu($mdOpenMenu, $event)">
                <span ng-if="currentFilters.hero === ''"><md-icon md-menu-origin>done</md-icon>All heroes</span>
                <md-icon md-menu-origin ng-if="currentFilters.hero === 'multi'">grade</md-icon>
                <md-icon class="ohi-{{currentFilters.hero}} hero-icon hero-icon--big hero-icon--margin-right" ng-if="currentFilters.hero !== 'multi'"></md-icon>
                {{currentFilters.hero | heroName}}
                <md-tooltip md-direction="bottom">
                    Filter by hero
                </md-tooltip>
            </md-button>
            <md-menu-content width="3">
                <md-menu-item>
                    <md-button ng-click="heroFilter('')" ng-class="{'md-warn': hero.id === ''}">
                        <md-icon md-menu-origin>done</md-icon> All heroes
                    </md-button>
                </md-menu-item>
                <md-menu-item ng-repeat="hero in heroes">
                    <md-button ng-click="heroFilter(hero.id)"
                               ng-class="{'md-warn': hero.id===currentFilters.hero}">
                        <md-icon md-menu-origin ng-if="hero.id === 'multi'">grade</md-icon>
                        <md-icon class="ohi-{{hero.id}} hero-icon hero-icon--big" ng-if="hero.id !== 'multi'"></md-icon> {{hero.filterName || hero.name}}
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>

        <span flex></span>

        <md-button class="md-raised md-accent" ng-click="showPostDialog()">
            Post
        </md-button>
    </div>
</md-toolbar>

<md-content class="md-padding" layout="row" layout-align="center center">
    <div layout="column" flex-xs="100" flex-gt-xs="75" flex-gt-md="50">
        <div ng-if="!playofList.length" class="progress-container">
            <md-progress-circular md-mode="indeterminate" class="md-warn"></md-progress-circular>
        </div>
        <div ng-repeat="playof in playofList | orderBy: '-votesCount' | limitTo: limit | filter: {hero: currentFilters.hero} as playofListFiltered">
            <wnh-post playof="playof"></wnh-post>
        </div>
        <div ng-if="(playofList.length && playofList.length > limit) || (playofListFiltered.length && playofListFiltered.length > limit)" ng-click="showMore()" class="show-more">
            <md-button class="md-warn">Show more</md-button>
        </div>
        <div ng-if="playofList.length && !playofListFiltered.length" class="show-more">
            <md-subheader class="md-warn">There is no video in this category</md-subheader>
        </div>
    </div>
</md-content>